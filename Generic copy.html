<head>
    <title>Generic</title>
    <meta description="Snake-like climbing gradient effect"/>
    <meta publisher="WhirlwindFX" />
</head>
    
<body style="margin: 0; padding: 0;">
  	<canvas id="exCanvas" width="320" height="200"></canvas>
</body>
    
<script>
    // Get the canvas element from the DOM
    var c = document.getElementById("exCanvas");
    var ctx = c.getContext("2d");  
    var width = 320;
    var height = 200;
    var hue = 0;
    let cx = 160;
    let vx = 0;
    let cy = 100;
    let vy = 0;
    let ay = 1;
    let effects = [];

    function update() {
			
      ctx.fillStyle = "white";
      ctx.fillRect(0, 0, 320,200);

      if (effects.length < 2){
        effects.push(new Ball());
      }

      effects.forEach(ele => {
        ele.draw();
      })


      window.requestAnimationFrame(update);
    }

    function Ball(){
      this.radius = 25;
      this.bx = effects.length * 50 + 25;
      this.vx = 0;
      this.by = 100;
      this.vy = 0;
      this.ay = 2;
      this.id = Math.random();

      this.draw = function(){
        if (this.by + 25 > 200){
          this.vy = -15;
          while (this.by + 25 > 200){
            this.by += this.vy;
          }
        } else if (this.by -25 < 0){
          this.vy = 5;
          while (this.by -25 < 0){
            this.by += this.vy;
          }
        }
        this.vy += ay;
        
        this.vx += Math.random();
        if (this.bx + 25 > 320){
          this.bx = 320 - this.radius;
          this.vx *= -.9
        } else if (this.bx - 25 < 0){
          this.bx = this.radius;
          this.vx *= -.9;
        }
        
        for (let i = 0; i < effects.length; i++){
          let ele = effects[i];
          if (this.id == ele.id){
            continue;
          }
          if (Math.abs(this.bx - ele.bx) < 50 && Math.abs(this.by - ele.by) < 50){
            this.vx *= -1;
            this.vy *= -1;
            while (Math.abs(this.bx - ele.bx) < 50 && Math.abs(this.by - ele.by) < 50){
              this.bx += this.vx
              this.by += this.vy
            }
          }
        }
        this.bx += this.vx;
        this.by += this.vy;

        ctx.beginPath();
  		  ctx.arc(this.bx, this.by, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = "black";
        ctx.fill();
      }
    }

    window.requestAnimationFrame(update);

</script>